(this["webpackJsonpamazon-price-check"]=this["webpackJsonpamazon-price-check"]||[]).push([[0],{21:function(e,n,a){e.exports=a(36)},27:function(e,n,a){},28:function(e,n,a){},29:function(e,n,a){},30:function(e,n,a){},36:function(e,n,a){"use strict";a.r(n);var t=a(7),c=a(0),r=a.n(c),i=a(15),o=a.n(i),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(26),a(27),a(28);var u=a(37),m=a(38),f=a(11),d=a.n(f);a(29);var h=function(e){var n=e.queryParams;return r.a.createElement(m.a,{className:"amazon-product-card"},r.a.createElement(m.a.Body,null,r.a.createElement(m.a.Title,null,n.desc),r.a.createElement(m.a.Subtitle,{className:"mb-2 text-muted"},n.asin)))},p=a(18),g=(a(30),a(8)),v=a(19),k=a(13);var w=function(e){var n=e.primary,a=e.configurate,t=e.checkerService,c=e.queryParams,i=e.onClick,o=Object(p.a)(e,["primary","configurate","checkerService","queryParams","onClick"]);return r.a.createElement(u.a.Item,Object.assign({},o,{action:!0,active:n,className:"checker-link",onClick:c.asin?function(){return!1}:function(){return i(t)},href:c.asin&&t.getUrl(c),target:"_blank"}),a?n?r.a.createElement(g.a,{icon:k.a,fixedWidth:!0,size:"lg",className:"primary-status"}):r.a.createElement(g.a,{icon:k.b,fixedWidth:!0,size:"lg",className:"primary-status"}):n?r.a.createElement(g.a,{icon:v.a,fixedWidth:!0,size:"lg",className:"primary-status"}):r.a.createElement("span",{className:"primary-status fa-fw fa-lg"}),t.name)},y=[{id:"keepa",name:"Keepa",getUrl:function(e){var n=e.asin;return"https://keepa.com/#!product/5-".concat(n)}},{id:"sakura-checker",name:"\u30b5\u30af\u30e9\u30c1\u30a7\u30c3\u30ab\u30fc",getUrl:function(e){var n=e.asin;return"https://sakura-checker.jp/search/".concat(n)}},{id:"kakaku-dot-com",name:"\u4fa1\u683c.com",getUrl:function(e){var n=e.desc;return"https://kakaku.com/search_results/".concat(n)}}],b=y.reduce((function(e,n,a){return e[n.id]=a,e}),{}),E="config.primary-checker";var N=function(e){var n=e.queryParams,a=Object(c.useState)(),i=Object(t.a)(a,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){d.a.getItem(E).then((function(e){var a=y[b[e]];if(a){if(n.asin){var t=a.getUrl(n.asin);window.open(t,"_blank")}s(a.id)}})).catch((function(e){console.log(e)}))}),[n]),r.a.createElement("div",{className:"App"},n.asin&&r.a.createElement(h,{queryParams:n}),!n.asin&&r.a.createElement(m.a,{className:"config-message"},r.a.createElement(m.a.Body,null,"\u512a\u5148\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u9078\u3093\u3060\u30b5\u30fc\u30d3\u30b9\u3078\u6700\u521d\u306b\u9077\u79fb\u3057\u8868\u793a\u3057\u307e\u3059\u3002")),r.a.createElement("div",{className:"check-service-list"},r.a.createElement(u.a,{variant:"flush"},y.map((function(e){return r.a.createElement(w,{key:e.id,configurate:!n.asin,primary:o===e.id,checkerService:e,queryParams:n,onClick:function(e){d.a.setItem(E,e.id).then((function(e){s(e)})).catch((function(e){console.log(e)}))}})})))))};a.e(3).then(a.t.bind(null,39,7)).then((function(){})).catch((function(e){}));var z=/https[a-zA-Z0-9%_.-]+/,j=window.location.search.split(/[?&]/).reduce((function(e,n){var a=(/^([^=]+)=(.*)/.exec(n)||[]).splice(1),c=Object(t.a)(a,2),r=c[0],i=c[1];if(n&&(e[r]=decodeURI(i)),"text"===r){e.url=unescape(z.exec(e[r])),e.desc=unescape(e[r].replace(z,"").replace(/\+/g," "));var o=/https:\/\/www\.amazon\.co\.jp\/dp\/([A-Za-z0-9]+)/.exec(e.url);o&&(e.asin=o[1])}return e}),{});o.a.render(r.a.createElement(N,{queryParams:j}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://sharkpp.github.io/amazon-price-check",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://sharkpp.github.io/amazon-price-check","/service-worker.js");s?(!function(e,n){fetch(e).then((function(a){var t=a.headers.get("content-type");404===a.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(n,e)}))}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.2170a119.chunk.js.map